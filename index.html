<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko" lang="ko">
<head>
<title>krypto-fuchs PDF creator</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
<script type="text/javascript" src="qrcode.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js"></script>
</head>
<body>
	<a href="https://www.krypto-fox.org">
		<h1>krypto-fox.org</h3>
	</a>
	<a href="https://www.krypto-fuchs.de">
		<h2>krypto-fuchs.de</h2>
	</a>
	<h2>>>> PDF creator <<<</h1>
<p>Enter your key-pairs below:</p>	
<input style="width:80%;margin: 10px" id="prv_key" type="text" placeholder="&ldquo;Your private key&ldquo;" />
<input style="width:80%;margin: 10px" id="pub_key" type="text" placeholder="&ldquo;Your public key&ldquo;" />
<br>
<div style="visibility:collapse" id="qrcode"></div>
<button type="button" onclick="save_pdf()" >Download PDF</button>

<script type="text/javascript">
//alert("Ensure that no one is looking over your shoulder!");
var doc = new jsPDF();

var qrcode = new QRCode(document.getElementById("qrcode"), {
	width : 49,
	height : 49,
	correctLevel: QRCode.CorrectLevel.H
});

function makeCode () {		
	var prv_key_input  = document.getElementById("prv_key");
	qrcode.makeCode(prv_key_input.value);
	console.log(prv_key_input.value);

}


function save_pdf(){

	makeCode();
	var qr_image = document.getElementById("qrcode");

	doc.text("krypto-fuchs.de", 10, 20);
	doc.ellipse(100, 50, 17, 17);
	doc.addImage(qr_image.childNodes[1].src, 'PNG', 89, 39, 22, 22);
	doc.save("a4.pdf");

}

makeCode();

</script>
</body>
